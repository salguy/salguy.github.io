---
layout: default
title: 복약 루틴
nav_order: 1
---

# 💊 복약 루틴 구조

살가이 프로젝트의 핵심 기능 중 하나는 사용자의 복약 시점을 인식하고, 이를 음성 알림과 대화형 인터페이스를 통해 안내하고 확인하는 **복약 루틴**입니다.

## 루틴 흐름

1. **식사 여부 확인**  
   복약 전 식사 여부를 확인합니다. (예: "식사하셨나요?")

2. **복약 시각 알림**  
   복약 예정 시각에 음성으로 알림을 제공합니다.  
   → 예: "이제 혈압약 드실 시간이에요."

3. **복약 응답 대기**  
   알림 1분 후 "약 드셨나요?"라는 물음과 함께 사용자의 음성 응답을 기다립니다. (ex. “먹었어”, “조금 이따 먹을게” 등)

4. **미응답/미복용 시 리마인드**  
   응답이 없을 경우 5분 간격으로 최대 3회까지 재알림을 수행합니다.

5. **결과 기록**  
   응답이 있을 경우 이를 서버에 전송하여 복약 여부 및 시점을 기록합니다.
   응답이 없을 경우에는 "미응답"으로 기록합니다.
   
## 특이사항
- 알림 스케줄은 관리자 애플리케이션(개발예정)에서 설정 가능
- 복약 시점은 사용자 발화로부터 LLM이 추론하여 판단
